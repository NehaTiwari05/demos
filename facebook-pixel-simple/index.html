<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Facebook Pixel Demo 1</title>

  <link rel="stylesheet" href="../lib/fb-pixel-styles/styles.css">
  <!-- Facebook Pixel Code -->
  <script data-pixel="fb">
    var optOutWish = function() {
      var doNotTrack = navigator.doNotTrack === '1';
      var hasOptedOut = localStorage.getItem('fb-pixel-status') === 'opt-out';
      return doNotTrack || hasOptedOut;
    }

    console.log(optOutWish())

    if (optOutWish()) {
      console.info('User prohibits tracking. Not embedding Facebook’s script.')
    } else {
      console.log('Embedding Facebook’s script.');
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/de_DE/fbevents.js');
      fbq('init', '1944570812537922');
      fbq('track', 'PageView');
    }
  </script>

    <noscript>
      <img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1944570812537922&ev=PageView&noscript=1"/>
    </noscript>
    <!-- End Facebook Pixel Code -->
</head>
<body>
  <div class="dialog js-dialog" aria-hidden="false" role="dialog" aria-modal="true" aria-label="Hinweis" aria-describedby="dialogMessage">
    <p class="dialog__message js-dialog-message" id="dialogMessage">Diese Seite nutzt einen Facebook-Pixel. Sie können der Nutzung jederzeit durch einen Klick auf <a href="?fb-pixel-status=opt-out" class="js-fb-opt-out">Opt out</a> widersprechen. .</p>
  </div>
  <main>
    <section>
      <h1>FB-Test-Output</h1>
      <button class="js-test-button">Event testen</button>
      <ul class="js-test-output"></ul>
    </section>
    </main>
  <script src="../lib/FacebookPixelController/FacebookPixelController.js" async></script>
  <script src="js/main.js" async></script>
</body>
</html>